
buildscript {

    ext.support_gradle_version = "3.1.2"
    ext.support_android_version = "27.+"
    ext.support_androidmultidex_version = "1.0.0"
    ext.support_kotlin_version = "1.2.30"
    ext.support_kotlincoroutines_version = "0.18"
    ext.support_anko_version = "0.10.3"
    ext.support_retrofit_version = "2.3.0"
    ext.support_rxandroid_version = "2.0.1"
    ext.support_greendao_version = "3.2.2"
    ext.support_greendao_sqlcipher_version = "3.5.9"
    ext.support_glide_version = "4.7.1"
    ext.support_zxing_version = "3.3.1"
    ext.support_auto_service_version = "1.0-rc4"

    repositories {
        mavenCentral()
        jcenter()
        google()
    }

    dependencies {
        classpath "com.android.tools.build:gradle:$support_gradle_version"
    }
}

allprojects {

    repositories {
        mavenCentral()
        jcenter()
        google()
    }

    project.ext {

        android = [
                dbVersion        : 1,
                dbPackage        : "com.lib.quasar.db.gen",
                dbGen            : "src/main/java",
                compileSdkVersion: 27,
                buildToolsVersion: "27.0.3",
                minSdkVersion    : 14,
                targetSdkVersion : 27,
                versionCode      : 25,
                versionName      : "2.0.1"
        ]

        plugin = [
                com_android_application  : 'com.android.application',
                com_android_library      : 'com.android.library',
                kotlin_android           : 'kotlin-android',
                kotlin_kapt              : 'kotlin-kapt',
                kotlin_android_extensions: 'kotlin-android-extensions',
                db_greendao              : 'org.greenrobot.greendao',
                java                     : 'java'
        ]

        dependencies = [
                "support_appcompat_v7"       : "com.android.support:appcompat-v7:$support_android_version",
                "support_v4"                 : "com.android.support:support-v4:$support_android_version",
                "support_design"             : "com.android.support:design:$support_android_version",
                "support_recyclerview_v7"    : "com.android.support:recyclerview-v7:$support_android_version",
                "support_vector_drawable"    : "com.android.support:support-vector-drawable:$support_android_version",
                "support_cardview_v7"        : "com.android.support:cardview-v7:$support_android_version",
                "support_multidex"           : "com.android.support:multidex:$support_androidmultidex_version",
                "kotlin_stdlib_jre7"         : "org.jetbrains.kotlin:kotlin-stdlib-jre7:$support_kotlin_version",
                "kotlin_coroutines_core"     : "org.jetbrains.kotlinx:kotlinx-coroutines-core:$support_kotlincoroutines_version",
                "kotlin_anko_core"           : "org.jetbrains.anko:anko:$support_anko_version",
                "kotlin_anko_commons"        : "org.jetbrains.anko:anko-commons:$support_anko_version",
                "kotlin_anko_sdk25"          : "org.jetbrains.anko:anko-sdk25:$support_anko_version",
                "kotlin_anko_coroutines"     : "org.jetbrains.anko:anko-coroutines:$support_anko_version",
                "kotlin_anko_appcompat_v7"   : "org.jetbrains.anko:anko-appcompat-v7:$support_anko_version",
                "kotlin_anko_design"         : "org.jetbrains.anko:anko-design:$support_anko_version",
                "kotlin_anko_recyclerview_v7": "org.jetbrains.anko:anko-recyclerview-v7:$support_anko_version",
                "db_greendao"                : "org.greenrobot:greendao:$support_greendao_version",
                "db_greendao_sqlcipher"      : "net.zetetic:android-database-sqlcipher:$support_greendao_sqlcipher_version",
                "retrofit_core"              : "com.squareup.retrofit2:retrofit:$support_retrofit_version",
                "retrofit_converter_gson"    : "com.squareup.retrofit2:converter-gson:$support_retrofit_version",
                "retrofit_adapter_rxjava2"   : "com.squareup.retrofit2:adapter-rxjava2:$support_retrofit_version",
                "retrofit_rxandroid"         : "io.reactivex.rxjava2:rxandroid:$support_rxandroid_version",
                "glide_core"                 : "com.github.bumptech.glide:glide:$support_glide_version",
                "glide_compiler"             : "com.github.bumptech.glide:compiler:$support_glide_version",
                "zxing_core"                 : "com.google.zxing:core:$support_zxing_version",
                "auto_service"               : "com.google.auto.service:auto-service:$support_auto_service_version"
        ]
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

tasks.withType(Javadoc) {
    options.addStringOption('Xdoclint:none', '-quiet')
    options.addStringOption('encoding', 'UTF-8')
    source = android.sourceSets.main.java.srcDirs
    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))
}
